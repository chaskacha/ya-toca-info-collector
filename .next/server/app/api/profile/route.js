(()=>{var e={};e.id=73,e.ids=[73],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3450:(e,t,r)=>{"use strict";r.d(t,{E$:()=>n,Vf:()=>i,ct:()=>a});let o=global;o.__YTC_STORE__||(o.__YTC_STORE__={profiles:new Map,messages:new Map});let s=o.__YTC_STORE__;function i(e,t){let r=s.profiles.get(e)??{sessionId:e,phone:null,cabildoName:null,demographics:{gender:null,age:null,population:null,ethnicity:null,occupation:null,education:null,originRegion:null,cabildoRegion:null},demographicsCompleted:!1,cabildoCompleted:!1,stationsDone:[]};return t(r),s.profiles.set(e,r),r}function n(e){return s.profiles.get(e)??null}function a(e,t){let r=s.messages.get(e)??[];r.push({...t,_id:crypto.randomUUID(),_ts:Date.now()}),s.messages.set(e,r)}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5511:e=>{"use strict";e.exports=require("crypto")},6487:()=>{},8335:()=>{},8623:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var o=r(4999),s=r(5511),i=r.n(s);async function n(){let e=(0,o.UL)(),t=(await e).get("yt_sid")?.value;return t||(t=i().randomUUID(),(await e).set("yt_sid",t,{httpOnly:!0,sameSite:"lax",path:"/",secure:!0,maxAge:604800})),t}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9658:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>j,routeModule:()=>f,serverHooks:()=>x,workAsyncStorage:()=>h,workUnitAsyncStorage:()=>_});var o={};r.r(o),r.d(o,{GET:()=>g,POST:()=>m});var s=r(6559),i=r(8088),n=r(7719),a=r(4999),p=r(2190),l=r(1067),u=r(8623),c=r(3450);let d=l.Ikc({cabildoName:l.YjP().trim().min(1,"Requerido"),demographics:l.Ikc({gender:l.YjP(),age:l.YjP(),population:l.YjP(),ethnicity:l.YjP(),occupation:l.YjP(),education:l.YjP(),originRegion:l.YjP(),cabildoRegion:l.YjP()}),consent:l.zMY(),phone:l.YjP().trim().min(1,"Requerido")});async function g(){let e=(0,u.w)(),t=(0,c.E$)(await e);return p.NextResponse.json({sessionId:e,profile:t})}async function m(e){let t=(0,u.w)(),r=await e.json(),o=d.safeParse(r);if(!o.success)return p.NextResponse.json({error:o.error.format()},{status:400});let{demographics:s,consent:i,phone:n}=o.data,l=(0,c.Vf)(await t,e=>{e.phone=n,e.cabildoName="UTEC",e.demographics=s,e.demographicsCompleted=!0,e.consent=i,e.demographics.originRegion=s.originRegion,e.demographics.cabildoRegion=s.cabildoRegion});return(await (0,a.UL)()).set("ytc_onboarded","1",{httpOnly:!1,sameSite:"lax",path:"/",secure:!0}),p.NextResponse.json({ok:!0,profile:l})}let f=new s.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/profile/route",pathname:"/api/profile",filename:"route",bundlePath:"app/api/profile/route"},resolvedPagePath:"/Users/chaskacha/Desktop/projects/ya_toca/ya_toca_backup_info_collector/src/app/api/profile/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:h,workUnitAsyncStorage:_,serverHooks:x}=f;function j(){return(0,n.patchFetch)({workAsyncStorage:h,workUnitAsyncStorage:_})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[719,580,329],()=>r(9658));module.exports=o})();